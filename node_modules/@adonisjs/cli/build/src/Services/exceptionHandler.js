"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const kleur_1 = require("kleur");
const InvalidFlagType_1 = require("@adonisjs/ace/build/src/Exceptions/InvalidFlagType");
const MissingCommandArgument_1 = require("@adonisjs/ace/build/src/Exceptions/MissingCommandArgument");
function handleException(error) {
    console.log('');
    if (error instanceof MissingCommandArgument_1.MissingCommandArgument) {
        const { command, argumentName } = error;
        const commandInstance = new command();
        const message = `${argumentName} is required to execute ${command.commandName} command`;
        commandInstance.$error(message);
        return;
    }
    if (error instanceof InvalidFlagType_1.InvalidFlagType) {
        const { command, argumentName, exceptedType } = error;
        const commandInstance = new command();
        const message = `${argumentName} is must be a valid ${exceptedType}`;
        commandInstance.$error(message);
        return;
    }
    console.log(kleur_1.bgRed('  Fatal error  '));
    console.log(kleur_1.red(error.stack));
}
exports.handleException = handleException;
